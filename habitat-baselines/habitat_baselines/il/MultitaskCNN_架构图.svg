<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .label { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .small-label { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .encoder { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
      .decoder { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; }
      .output { fill: #e8f5e8; stroke: #388e3c; stroke-width: 2; }
      .feature { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .arrow { stroke: #333; stroke-width: 2; marker-end: url(#arrowhead); }
      .skip { stroke: #ff5722; stroke-width: 2; stroke-dasharray: 5,5; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="25" class="title">MultitaskCNN 模型架构</text>
  
  <!-- Input -->
  <rect x="350" y="50" width="100" height="40" class="encoder" />
  <text x="400" y="75" class="label">RGB输入</text>
  <text x="400" y="85" class="small-label">(3, H, W)</text>
  
  <!-- Encoder Layers -->
  <rect x="50" y="120" width="80" height="40" class="encoder" />
  <text x="90" y="145" class="label">Conv1</text>
  
  <rect x="150" y="120" width="80" height="40" class="encoder" />
  <text x="190" y="145" class="label">Conv2</text>
  
  <rect x="250" y="120" width="80" height="40" class="encoder" />
  <text x="290" y="145" class="label">Conv3</text>
  
  <rect x="350" y="120" width="80" height="40" class="encoder" />
  <text x="390" y="145" class="label">Conv4</text>
  
  <rect x="450" y="120" width="80" height="40" class="encoder" />
  <text x="490" y="145" class="label">Conv5</text>
  
  <rect x="550" y="120" width="80" height="40" class="encoder" />
  <text x="590" y="145" class="label">Conv6</text>
  
  <rect x="650" y="120" width="80" height="40" class="encoder" />
  <text x="690" y="145" class="label">Conv7</text>
  
  <!-- Bottleneck -->
  <rect x="350" y="200" width="100" height="40" class="feature" />
  <text x="400" y="225" class="label">特征瓶颈</text>
  <text x="400" y="235" class="small-label">(512维)</text>
  
  <!-- Decoder Layers -->
  <rect x="50" y="280" width="80" height="40" class="decoder" />
  <text x="90" y="305" class="label">Deconv1</text>
  
  <rect x="150" y="280" width="80" height="40" class="decoder" />
  <text x="190" y="305" class="label">Deconv2</text>
  
  <rect x="250" y="280" width="80" height="40" class="decoder" />
  <text x="290" y="305" class="label">Deconv3</text>
  
  <rect x="350" y="280" width="80" height="40" class="decoder" />
  <text x="390" y="305" class="label">Deconv4</text>
  
  <rect x="450" y="280" width="80" height="40" class="decoder" />
  <text x="490" y="305" class="label">Deconv5</text>
  
  <rect x="550" y="280" width="80" height="40" class="decoder" />
  <text x="590" y="305" class="label">Deconv6</text>
  
  <rect x="650" y="280" width="80" height="40" class="decoder" />
  <text x="690" y="305" class="label">Deconv7</text>
  
  <!-- Output Heads -->
  <rect x="100" y="380" width="120" height="40" class="output" />
  <text x="160" y="405" class="label">RGB重建</text>
  <text x="160" y="415" class="small-label">(3, H, W)</text>
  
  <rect x="340" y="380" width="120" height="40" class="output" />
  <text x="400" y="405" class="label">深度估计</text>
  <text x="400" y="415" class="small-label">(1, H, W)</text>
  
  <rect x="580" y="380" width="120" height="40" class="output" />
  <text x="640" y="405" class="label">语义分割</text>
  <text x="640" y="415" class="small-label">(N_classes, H, W)</text>
  
  <!-- Feature Output -->
  <rect x="350" y="480" width="100" height="40" class="feature" />
  <text x="400" y="505" class="label">特征输出</text>
  <text x="400" y="515" class="small-label">(512维向量)</text>
  
  <!-- Arrows -->
  <line x1="400" y1="90" x2="400" y2="115" class="arrow" />
  
  <!-- Encoder flow -->
  <line x1="400" y1="160" x2="90" y2="115" class="arrow" />
  <line x1="130" y1="140" x2="145" y2="140" class="arrow" />
  <line x1="230" y1="140" x2="245" y2="140" class="arrow" />
  <line x1="330" y1="140" x2="345" y2="140" class="arrow" />
  <line x1="430" y1="140" x2="445" y2="140" class="arrow" />
  <line x1="530" y1="140" x2="545" y2="140" class="arrow" />
  <line x1="630" y1="140" x2="645" y2="140" class="arrow" />
  
  <!-- To bottleneck -->
  <line x1="690" y1="160" x2="400" y2="195" class="arrow" />
  
  <!-- Decoder flow -->
  <line x1="400" y1="240" x2="90" y2="275" class="arrow" />
  <line x1="130" y1="300" x2="145" y2="300" class="arrow" />
  <line x1="230" y1="300" x2="245" y2="300" class="arrow" />
  <line x1="330" y1="300" x2="345" y2="300" class="arrow" />
  <line x1="430" y1="300" x2="445" y2="300" class="arrow" />
  <line x1="530" y1="300" x2="545" y2="300" class="arrow" />
  <line x1="630" y1="300" x2="645" y2="300" class="arrow" />
  
  <!-- To outputs -->
  <line x1="190" y1="320" x2="160" y2="375" class="arrow" />
  <line x1="390" y1="320" x2="400" y2="375" class="arrow" />
  <line x1="590" y1="320" x2="640" y2="375" class="arrow" />
  
  <!-- Feature output -->
  <line x1="400" y1="240" x2="400" y2="475" class="arrow" />
  
  <!-- Skip connections -->
  <line x1="90" y1="160" x2="90" y2="275" class="skip" />
  <line x1="190" y1="160" x2="190" y2="275" class="skip" />
  <line x1="290" y1="160" x2="290" y2="275" class="skip" />
  <line x1="490" y1="160" x2="490" y2="275" class="skip" />
  <line x1="590" y1="160" x2="590" y2="275" class="skip" />
  <line x1="690" y1="160" x2="690" y2="275" class="skip" />
  
  <!-- Legend -->
  <text x="50" y="560" class="small-label">图例:</text>
  <line x1="100" y1="555" x2="130" y2="555" class="arrow" />
  <text x="140" y="560" class="small-label">前向传播</text>
  <line x1="220" y1="555" x2="250" y2="555" class="skip" />
  <text x="260" y="560" class="small-label">跳跃连接</text>
</svg>